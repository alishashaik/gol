pipeline {
  // where pipeline job will run
  agent any //{
   // label "Windows_Slave"
 // }
  //tools {
   
   // jdk "JDK 1.8.0_05"
   // maven "Maven 3.5.0"
 // }
  // start of stages : build, test, deploy ...
  stages {
    // start of stage : build
    stage('build') {
      // start of running steps inside one stage
      steps {
        // invoke command to build with maven
        bat 'mvn clean install'
      }
    }
    
   
    stage('deploy') {
      
      steps {
      
        //bat 'xcopy /y C:\\Program Files (x86)\\jenkins\\workspace\\GOL_Pipeline\\gameoflife-web\\target "C:\\Program Files\\Apache //Software Foundation\\Tomcat 7.0\\webapps"'
        set +x
        echo "Deploying to Tomcat at http://tomcat:8080/myapp"
        curl -s --upload-file target/gameoflife.war "http://user:password@localhost:8888/manager/text/deploy?           path=/gameoflife&update=true&tag=${BUILD_TAG}"

     
        
      }
    } 

    
  } 
}
